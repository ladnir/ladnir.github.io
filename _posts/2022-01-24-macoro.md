---
layout: post
title: "Back Porting C++20 Coroutines to C++14 -- A Tutorial"
excerpt_separator: <!--more-->
categories:
  - Blog
tags:
  - cpp
  - coroutine
---
### 

In this post I hope to give another perspective on the C++20 coroutine specification. In partilular I will present a small library that aims to implement coroutines using C++14 and a couple macros to aid readability. For example, the followsing two function both implementation the coroutine protocol 
```c++
my_future<int>  h();

my_future<int> g1()
{
  // co_await some other opteration
  int i = co_await h();
  if(i == 42)
    i = 0;
  co_return i;
}


my_future<int> g2()
{
	CO_BEGIN(my_future<int>, i = int{});

	CO_AWAIT(i, h());
  if(i == 42)
    i = 0;
  CO_RETURN(i);

	CO_END();
}

```
